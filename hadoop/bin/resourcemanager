#! /usr/bin/env bash

function configure() {
    /bin/configure
}

function start_yarn() {
  su -l yarn -c '/opt/hadoop/bin/yarn --daemon start resourcemanager'
}

function shutdown() {
  su -l yarn -c '/opt/hadoop/bin/yarn --daemon stop resourcemanager'
}

trap shutdown EXIT

configure &&
    start_yarn &&
    echo "NodeManager started on $(hostname -i)" &&
    tail -f /dev/null
